(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{J2H1:function(e,n,t){"use strict";t.r(n),t.d(n,"VendedoresModule",function(){return T});var o=t("ofXK"),r=t("oOf3"),i=t("3Pt+"),c=t("tyNb"),d=t("PSD3"),a=t.n(d);class b{constructor(){}}var s=t("fXoL"),l=t("/zwO"),u=t("PllT");function g(e,n){1&e&&(s.Yb(0,"div"),s.Cc(1,"C\xf3digo requerido"),s.Xb())}function f(e,n){1&e&&(s.Yb(0,"div"),s.Cc(1,"Debe tener m\xednimo 1 letras"),s.Xb())}function v(e,n){1&e&&(s.Yb(0,"div"),s.Cc(1," No puede colocar ese nombre "),s.Xb())}function h(e,n){if(1&e&&(s.Yb(0,"div",30),s.Bc(1,g,2,0,"div",31),s.Bc(2,f,2,0,"div",31),s.Bc(3,v,2,0,"div",31),s.Xb()),2&e){s.hc();const e=s.uc(17);s.Jb(1),s.mc("ngIf",e.errors.required),s.Jb(1),s.mc("ngIf",e.errors.minlength),s.Jb(1),s.mc("ngIf",e.errors.forbiddenName)}}function m(e,n){1&e&&(s.Yb(0,"div"),s.Cc(1,"Nombre requerido"),s.Xb())}function p(e,n){1&e&&(s.Yb(0,"div"),s.Cc(1,"Debe tener m\xednimo 4 letras"),s.Xb())}function C(e,n){1&e&&(s.Yb(0,"div"),s.Cc(1," No puede colocar ese nombre "),s.Xb())}function X(e,n){if(1&e&&(s.Yb(0,"div",30),s.Bc(1,m,2,0,"div",31),s.Bc(2,p,2,0,"div",31),s.Bc(3,C,2,0,"div",31),s.Xb()),2&e){s.hc();const e=s.uc(23);s.Jb(1),s.mc("ngIf",e.errors.required),s.Jb(1),s.mc("ngIf",e.errors.minlength),s.Jb(1),s.mc("ngIf",e.errors.forbiddenName)}}function Y(e,n){if(1&e&&(s.Yb(0,"option",32),s.Cc(1),s.Xb()),2&e){const e=n.$implicit;s.mc("value",e.UBIGEO_CODIGO),s.Jb(1),s.Ec(" ",e.UBIGEO_NOMBRE," ")}}function E(e,n){if(1&e&&(s.Yb(0,"option",32),s.Cc(1),s.Xb()),2&e){const e=n.$implicit;s.mc("value",e.UBIGEO_CODIGO),s.Jb(1),s.Ec(" ",e.UBIGEO_NOMBRE," ")}}function N(e,n){if(1&e){const e=s.Zb();s.Yb(0,"div",17),s.Yb(1,"div",10),s.Yb(2,"label"),s.Cc(3,"Zona (cant\xf3n)"),s.Xb(),s.Yb(4,"select",33,34),s.fc("ngModelChange",function(n){return s.vc(e),s.hc().cantonCodigo=n}),s.Bc(6,E,2,2,"option",24),s.Xb(),s.Xb(),s.Xb()}if(2&e){const e=s.hc();s.Jb(4),s.mc("ngModel",e.cantonCodigo),s.Jb(2),s.mc("ngForOf",e.cantones)}}function O(e,n){if(1&e){const e=s.Zb();s.Yb(0,"button",35),s.fc("click",function(){return s.vc(e),s.hc().deleteVendedor()}),s.Ub(1,"i",36),s.Cc(2," Borrar "),s.Xb()}}let M=(()=>{class e{constructor(e,n,t,o){this.route=e,this.router=n,this.vendedorService=t,this.ciudadesService=o,this.vendedor=new b,this.routeStr="",this.showDeleteButton=!1,this.provinciaCodigo="",this.cantonCodigo="",this.provincias=[],this.cantones=[]}ngOnInit(){this.routeStr=this.route.snapshot.paramMap.get("id"),"nuevo"!==this.routeStr&&null!==this.routeStr&&(this.vendedorService.getVendedor(this.routeStr).subscribe(e=>{this.vendedor=e,this.getCiudad()},e=>{}),this.showDeleteButton=!0),this.ciudadesService.getAllProvincias().subscribe(e=>{this.provincias=e})}getCiudad(){if(this.vendedor.VEN_ZONA){const e=this.vendedor.VEN_ZONA.split(".");this.provinciaCodigo=e[0],this.getAllCantones(this.provinciaCodigo),this.cantonCodigo=this.vendedor.VEN_ZONA}}onChangeProvincia(e){this.getAllCantones(e)}getAllCantones(e){this.ciudadesService.getAllCantonesByProvincia(e).subscribe(e=>{this.cantones=e})}guardarVendedor(e){e.invalid||(this.vendedor.VEN_PROVINCIA=this.provinciaCodigo,this.vendedor.VEN_ZONA=this.cantonCodigo,"nuevo"!==this.routeStr?this.vendedorService.putVendedor(this.vendedor.VEN_CODIGO,this.vendedor).subscribe(e=>{a.a.fire("\xc9xito","Se actualizo el vendedor con \xe9xito","success")},e=>{a.a.fire("Error",e.error.msg,"error")}):this.vendedorService.postVendedor(this.vendedor).subscribe(e=>{a.a.fire("\xc9xito","Se creo el vendedor con \xe9xito","success")},e=>{a.a.fire("Error",e.error.msg,"error")}))}deleteVendedor(){a.a.fire({title:`\xbfEstas seguro de borrar el vendedor ${this.vendedor.VEN_NOMBRE}?`,showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&this.vendedorService.deleteVendedor(this.vendedor.VEN_CODIGO).subscribe(e=>{a.a.fire("Eliminado","Se elimino el vendedor con \xe9xito","success"),this.router.navigate(["/vendedores"])},e=>{a.a.fire("Error",e.error.msg,"error")})})}}return e.\u0275fac=function(n){return new(n||e)(s.Tb(c.a),s.Tb(c.b),s.Tb(l.a),s.Tb(u.a))},e.\u0275cmp=s.Nb({type:e,selectors:[["app-vendedor"]],decls:63,vars:12,consts:[[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"text-right","mr-3"],["routerLink","/vendedores",1,"btn","btn-primary","mt-1"],[1,"fas","fa-long-arrow-alt-left"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["name","codigo","placeholder","C\xf3digo del grupo","type","text","minlength","1","required","",1,"form-control",3,"ngModel","ngModelChange"],["codigo","ngModel"],["class","alert bg-warning",4,"ngIf"],["name","name","placeholder","Nombre del grupo","type","text","minlength","4","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"row"],[1,"col-md-4"],["type","text","name","direccion","placeholder","Direcci\xf3n",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text","name","telefono","placeholder","Tel\xe9fono",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["name","phone2","placeholder","Tel\xe9fono","type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text","name","email","placeholder","Email",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["name","provincia",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["provincia",""],[3,"value",4,"ngFor","ngForOf"],["class","col-md-4",4,"ngIf"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-primary","w-50"],[1,"fas","fa-save"],["class","btn btn-danger w-50","type","button",3,"click",4,"ngIf"],[1,"alert","bg-warning"],[4,"ngIf"],[3,"value"],["name","canton",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["canton",""],["type","button",1,"btn","btn-danger","w-50",3,"click"],[1,"fas","fa-trash-alt"]],template:function(e,n){if(1&e){const e=s.Zb();s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"h4",2),s.Cc(3,"Vendedores"),s.Xb(),s.Yb(4,"p",3),s.Cc(5,"Creaci\xf3n/Mantenimiento de vendedores"),s.Xb(),s.Xb(),s.Yb(6,"div",4),s.Yb(7,"div",5),s.Yb(8,"button",6),s.Ub(9,"i",7),s.Cc(10," Regresar "),s.Xb(),s.Xb(),s.Yb(11,"form",8,9),s.fc("ngSubmit",function(){s.vc(e);const t=s.uc(12);return t.form.valid&&n.guardarVendedor(t)}),s.Yb(13,"div",10),s.Yb(14,"label"),s.Cc(15,"C\xf3digo *"),s.Xb(),s.Yb(16,"input",11,12),s.fc("ngModelChange",function(e){return n.vendedor.VEN_CODIGO=e}),s.Xb(),s.Bc(18,h,4,3,"div",13),s.Xb(),s.Yb(19,"div",10),s.Yb(20,"label"),s.Cc(21,"Nombre del vendedor *"),s.Xb(),s.Yb(22,"input",14,15),s.fc("ngModelChange",function(e){return n.vendedor.VEN_NOMBRE=e}),s.Xb(),s.Bc(24,X,4,3,"div",13),s.Xb(),s.Yb(25,"div",10),s.Yb(26,"div",16),s.Yb(27,"div",17),s.Yb(28,"div",10),s.Yb(29,"label"),s.Cc(30,"Direcci\xf3n"),s.Xb(),s.Yb(31,"input",18),s.fc("ngModelChange",function(e){return n.vendedor.VEN_DIRECCION1=e}),s.Xb(),s.Xb(),s.Xb(),s.Yb(32,"div",17),s.Yb(33,"div",10),s.Yb(34,"label"),s.Cc(35,"Tel\xe9fono"),s.Xb(),s.Yb(36,"input",19),s.fc("ngModelChange",function(e){return n.vendedor.VEN_TELEFONO1=e}),s.Xb(),s.Xb(),s.Xb(),s.Yb(37,"div",17),s.Yb(38,"div",10),s.Yb(39,"label"),s.Cc(40,"Tel\xe9fono 2"),s.Xb(),s.Yb(41,"input",20),s.fc("ngModelChange",function(e){return n.vendedor.VEN_TELEFONO2=e}),s.Xb(),s.Xb(),s.Xb(),s.Yb(42,"div",17),s.Yb(43,"div",10),s.Yb(44,"label"),s.Cc(45,"Email"),s.Xb(),s.Yb(46,"input",21),s.fc("ngModelChange",function(e){return n.vendedor.VEN_CORREO=e}),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(47,"div",10),s.Yb(48,"div",16),s.Yb(49,"div",17),s.Yb(50,"div",10),s.Yb(51,"label"),s.Cc(52,"Provincia"),s.Xb(),s.Yb(53,"select",22,23),s.fc("ngModelChange",function(e){return n.provinciaCodigo=e})("change",function(){s.vc(e);const t=s.uc(54);return n.onChangeProvincia(t.value)}),s.Bc(55,Y,2,2,"option",24),s.Xb(),s.Xb(),s.Xb(),s.Bc(56,N,7,2,"div",25),s.Xb(),s.Xb(),s.Ub(57,"hr"),s.Yb(58,"div",26),s.Yb(59,"button",27),s.Ub(60,"i",28),s.Cc(61," Guardar "),s.Xb(),s.Bc(62,O,3,0,"button",29),s.Xb(),s.Xb(),s.Xb(),s.Xb()}if(2&e){const e=s.uc(12),t=s.uc(17),o=s.uc(23);s.Jb(16),s.mc("ngModel",n.vendedor.VEN_CODIGO),s.Jb(2),s.mc("ngIf",e.submitted&&t.invalid),s.Jb(4),s.mc("ngModel",n.vendedor.VEN_NOMBRE),s.Jb(2),s.mc("ngIf",e.submitted&&o.invalid),s.Jb(7),s.mc("ngModel",n.vendedor.VEN_DIRECCION1),s.Jb(5),s.mc("ngModel",n.vendedor.VEN_TELEFONO1),s.Jb(5),s.mc("ngModel",n.vendedor.VEN_TELEFONO2),s.Jb(5),s.mc("ngModel",n.vendedor.VEN_CORREO),s.Jb(7),s.mc("ngModel",n.provinciaCodigo),s.Jb(2),s.mc("ngForOf",n.provincias),s.Jb(1),s.mc("ngIf",""!==n.provinciaCodigo),s.Jb(6),s.mc("ngIf",n.showDeleteButton)}},directives:[c.c,i.n,i.f,i.g,i.a,i.d,i.k,i.e,i.h,o.k,i.l,o.j,i.i,i.o],styles:[""]}),e})();var B=t("bvU1");const I=function(e){return["/vendedores/",e]};function V(e,n){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Cc(2),s.Xb(),s.Yb(3,"td"),s.Cc(4),s.Xb(),s.Yb(5,"td"),s.Yb(6,"button",18),s.Ub(7,"i",19),s.Xb(),s.Xb(),s.Xb()),2&e){const e=n.$implicit;s.Jb(2),s.Dc(e.VEN_CODIGO),s.Jb(2),s.Dc(e.VEN_NOMBRE),s.Jb(2),s.mc("routerLink",s.rc(3,I,e.VEN_CODIGO))}}function x(e,n){if(1&e){const e=s.Zb();s.Yb(0,"div",20),s.Yb(1,"pagination-controls",21),s.fc("pageChange",function(n){return s.vc(e),s.hc().onTableDataChange(n)}),s.Xb(),s.Xb()}}function y(e,n){1&e&&(s.Yb(0,"div",22),s.Yb(1,"h4",23),s.Cc(2,"Cargando"),s.Xb(),s.Yb(3,"p"),s.Ub(4,"i",24),s.Xb(),s.Yb(5,"p",25),s.Cc(6,"Espere por favor"),s.Xb(),s.Xb())}function J(e,n){1&e&&(s.Yb(0,"div",26),s.Yb(1,"h4",23),s.Cc(2,"No hay registros"),s.Xb(),s.Yb(3,"p"),s.Ub(4,"i",27),s.Xb(),s.Xb())}const S=function(e,n,t){return{itemsPerPage:e,currentPage:n,totalItems:t}},_=[{path:"",component:(()=>{class e{constructor(e){this.vendedoresService=e,this.textoBusqueda="",this.vendedores=[],this.cargando=!1,this.page=1,this.count=0,this.tableSize=7,this.tableSizes=[3,6,9,12]}ngOnInit(){this.cargando=!0,this.vendedoresService.getAllVendedores().subscribe(e=>{this.vendedores=e,this.cargando=!1},e=>{})}search(e){setTimeout(()=>{this.textoBusqueda=e.target.value,""!==this.textoBusqueda?this.vendedoresService.getVendedorByNombre(this.textoBusqueda).subscribe(e=>{this.vendedores=e,this.page=1}):this.vendedoresService.getAllVendedores().subscribe(e=>{this.vendedores=e,this.page=1,this.cargando=!1})},500)}onTableDataChange(e){this.page=e}onTableSizeChange(e){this.tableSize=e.target.value,this.page=1}}return e.\u0275fac=function(n){return new(n||e)(s.Tb(l.a))},e.\u0275cmp=s.Nb({type:e,selectors:[["app-vendedores"]],decls:31,vars:15,consts:[[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"row","mb-3"],[1,"col-md-6"],["type","text","placeholder","Buscar...",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["routerLink","/vendedores/nuevo",1,"btn","btn-primary"],[1,"fas","fa-plus"],[1,"table-responsive"],[1,"table","table-sm","table-hover","animated","fadein","faster"],[1,"text-primary"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],["class","alert alert-info text-center mt-3 animated fadein faster",4,"ngIf"],["class","alert alert-warning text-center mt-3 animated fadein faster",4,"ngIf"],[1,"btn","btn-primary","mr-1",3,"routerLink"],[1,"fa","fa-pen"],[1,"d-flex","justify-content-center"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"alert","alert-info","text-center","mt-3","animated","fadein","faster"],[1,"alert-heading"],[1,"fa","fa-sync-alt","fa-spin","fa-3x"],[1,"mb-0"],[1,"alert","alert-warning","text-center","mt-3","animated","fadein","faster"],[1,"fa","fa-exclamation","fa-3x"]],template:function(e,n){1&e&&(s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"h4",2),s.Cc(3,"Vendedores"),s.Xb(),s.Yb(4,"p",3),s.Cc(5,"Listado de vendedores"),s.Xb(),s.Xb(),s.Yb(6,"div",4),s.Yb(7,"div",5),s.Yb(8,"div",6),s.Yb(9,"input",7),s.fc("ngModelChange",function(e){return n.textoBusqueda=e})("keyup",function(e){return n.search(e)}),s.Xb(),s.Xb(),s.Yb(10,"div",6),s.Yb(11,"div",8),s.Yb(12,"button",9),s.Ub(13,"i",10),s.Cc(14," Agregar "),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(15,"div",11),s.Yb(16,"table",12),s.Yb(17,"thead",13),s.Yb(18,"th"),s.Cc(19,"C\xf3digo"),s.Xb(),s.Yb(20,"th"),s.Cc(21,"Nombre"),s.Xb(),s.Yb(22,"th"),s.Cc(23,"Acci\xf3n"),s.Xb(),s.Xb(),s.Yb(24,"tbody"),s.Bc(25,V,8,5,"tr",14),s.ic(26,"paginate"),s.ic(27,"filtroSimple"),s.Xb(),s.Xb(),s.Bc(28,x,2,0,"div",15),s.Xb(),s.Xb(),s.Xb(),s.Bc(29,y,7,0,"div",16),s.Bc(30,J,5,0,"div",17)),2&e&&(s.Jb(9),s.mc("ngModel",n.textoBusqueda),s.Jb(16),s.mc("ngForOf",s.jc(26,5,s.jc(27,8,n.vendedores,n.textoBusqueda),s.sc(11,S,n.tableSize,n.page,n.count))),s.Jb(3),s.mc("ngIf",!n.cargando),s.Jb(1),s.mc("ngIf",n.cargando),s.Jb(1),s.mc("ngIf",!n.cargando&&0===n.vendedores.length))},directives:[i.a,i.e,i.h,c.c,o.j,o.k,r.c],pipes:[r.b,B.a],styles:[""]}),e})()},{path:":id",component:M}];let w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({imports:[[c.f.forChild(_)],c.f]}),e})();var D=t("9Xeq");let T=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.Rb({type:e}),e.\u0275inj=s.Qb({imports:[[o.b,w,r.a,i.b,D.a]]}),e})()}}]);