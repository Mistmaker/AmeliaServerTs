(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"0G8V":function(e,t,r){"use strict";r.r(t),r.d(t,"UsuariosModule",function(){return T});var n=r("0IaG"),i=r("ofXK"),o=r("3Pt+"),a=r("oOf3"),s=r("9Xeq"),c=r("tyNb"),b=r("fXoL"),u=r("ust+"),d=r("bvU1");const l=function(e){return["/usuarios",e]};function f(e,t){if(1&e&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Cc(2),b.Xb(),b.Yb(3,"td"),b.Cc(4),b.Xb(),b.Yb(5,"td"),b.Yb(6,"button",20),b.Ub(7,"i",21),b.Xb(),b.Xb(),b.Xb()),2&e){const e=t.$implicit;b.Jb(2),b.Fc("",e.USUAPELLIDO," ",e.USUNOMBRE," "),b.Jb(2),b.Ec("",e.USUIDENTIFICACION," "),b.Jb(2),b.mc("routerLink",b.rc(4,l,e.USUIDENTIFICACION))}}const g=function(e,t,r){return{itemsPerPage:e,currentPage:t,totalItems:r}};function m(e,t){if(1&e&&(b.Yb(0,"table",17),b.Yb(1,"thead",18),b.Yb(2,"th"),b.Cc(3,"Asesor"),b.Xb(),b.Yb(4,"th"),b.Cc(5,"Usuario"),b.Xb(),b.Yb(6,"th"),b.Cc(7,"Accion"),b.Xb(),b.Xb(),b.Yb(8,"tbody"),b.Bc(9,f,8,6,"tr",19),b.ic(10,"paginate"),b.ic(11,"filtroSimple"),b.Xb(),b.Xb()),2&e){const e=b.hc();b.Jb(9),b.mc("ngForOf",b.jc(10,1,b.jc(11,4,e.usuarios,e.textoBusqueda),b.sc(7,g,e.tableSize,e.page,e.count)))}}function h(e,t){if(1&e){const e=b.Zb();b.Yb(0,"div",22),b.Yb(1,"pagination-controls",23),b.fc("pageChange",function(t){return b.vc(e),b.hc().onTableDataChange(t)}),b.Xb(),b.Xb()}}function v(e,t){1&e&&(b.Yb(0,"div",24),b.Yb(1,"h4",25),b.Cc(2,"Cargando"),b.Xb(),b.Yb(3,"p"),b.Ub(4,"i",26),b.Xb(),b.Yb(5,"p",27),b.Cc(6," Espere por favor"),b.Xb(),b.Xb())}function p(e,t){1&e&&(b.Yb(0,"div",28),b.Yb(1,"h4",25),b.Cc(2,"No hay registros"),b.Xb(),b.Yb(3,"p"),b.Ub(4,"i",29),b.Xb(),b.Xb())}let X=(()=>{class e{constructor(e){this.usuariosService=e,this.usuarios=[],this.cargando=!1,this.textoBusqueda="",this.page=1,this.count=0,this.tableSize=7,this.tableSizes=[3,6,9,12]}ngOnInit(){this.usuariosService.getUsuarios().subscribe(e=>{this.usuarios=e})}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(u.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-usuarios"]],decls:20,vars:5,consts:[[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"row","mb-3"],[1,"col-md-9"],["type","text","placeholder","Buscar ...",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-md-3"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["routerLink","/usuarios/nuevo",1,"btn","btn-sm","btn-primary"],[1,"fas","fa-plus"],[1,"table-responsive"],["class","table table-striped table-hover animated fadein faster",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["class","alert alert-info text-center mt-3 animated fadein faster",4,"ngIf"],["class","alert alert-warning text-center mt-3 animated fadein faster",4,"ngIf"],[1,"table","table-striped","table-hover","animated","fadein","faster"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-primary","mr-1",3,"routerLink"],[1,"fa","fa-pen"],[1,"d-flex","justify-content-center"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"alert","alert-info","text-center","mt-3","animated","fadein","faster"],[1,"alert-heading"],[1,"fa","fa-sync-alt","fa-spin","fa-3x"],[1,"mb-0"],[1,"alert","alert-warning","text-center","mt-3","animated","fadein","faster"],[1,"fa","fa-exclamation","fa-3x"]],template:function(e,t){1&e&&(b.Yb(0,"div",0),b.Yb(1,"div",1),b.Yb(2,"h4",2),b.Cc(3,"Usuarios"),b.Xb(),b.Yb(4,"p",3),b.Cc(5," Listado de usuarios registrados"),b.Xb(),b.Xb(),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"div",6),b.Yb(9,"input",7),b.fc("ngModelChange",function(e){return t.textoBusqueda=e}),b.Xb(),b.Xb(),b.Yb(10,"div",8),b.Yb(11,"div",9),b.Yb(12,"button",10),b.Ub(13,"i",11),b.Cc(14,"Agregar"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",12),b.Bc(16,m,12,11,"table",13),b.Bc(17,h,2,0,"div",14),b.Xb(),b.Xb(),b.Xb(),b.Bc(18,v,7,0,"div",15),b.Bc(19,p,5,0,"div",16)),2&e&&(b.Jb(9),b.mc("ngModel",t.textoBusqueda),b.Jb(7),b.mc("ngIf",!t.cargando&&t.usuarios.length>0),b.Jb(1),b.mc("ngIf",!t.cargando&&0!==t.usuarios.length),b.Jb(1),b.mc("ngIf",t.cargando),b.Jb(1),b.mc("ngIf",!t.cargando&&0===t.usuarios.length))},directives:[o.a,o.e,o.h,c.c,i.k,i.j,a.c],pipes:[a.b,d.a],styles:[""]}),e})();var C=r("PSD3"),Y=r.n(C),I=r("D7sc"),U=r("/zwO");function B(e,t){if(1&e&&(b.Yb(0,"option",24),b.Cc(1),b.Xb()),2&e){const e=t.$implicit;b.mc("value",e.VEN_CODIGO),b.Jb(1),b.Ec(" ",e.VEN_NOMBRE," ")}}function S(e,t){1&e&&(b.Yb(0,"div"),b.Cc(1,"Asesor requerido"),b.Xb())}function y(e,t){if(1&e&&(b.Yb(0,"div",25),b.Bc(1,S,2,0,"div",26),b.Xb()),2&e){b.hc();const e=b.uc(17);b.Jb(1),b.mc("ngIf",e.errors.required)}}function x(e,t){1&e&&(b.Yb(0,"div"),b.Cc(1,"Usuario requerido"),b.Xb())}function N(e,t){1&e&&(b.Yb(0,"div"),b.Cc(1,"Debe tener m\xednimo 5 letras"),b.Xb())}function w(e,t){1&e&&(b.Yb(0,"div"),b.Cc(1," No puede colocar ese nombre "),b.Xb())}function E(e,t){if(1&e&&(b.Yb(0,"div",25),b.Bc(1,x,2,0,"div",26),b.Bc(2,N,2,0,"div",26),b.Bc(3,w,2,0,"div",26),b.Xb()),2&e){b.hc();const e=b.uc(24);b.Jb(1),b.mc("ngIf",e.errors.required),b.Jb(1),b.mc("ngIf",e.errors.minlength),b.Jb(1),b.mc("ngIf",e.errors.forbiddenName)}}function J(e,t){1&e&&(b.Yb(0,"div"),b.Cc(1,"Contrase\xf1a requerida"),b.Xb())}function M(e,t){1&e&&(b.Yb(0,"div"),b.Cc(1,"Debe tener m\xednimo 4 letras"),b.Xb())}function O(e,t){1&e&&(b.Yb(0,"div"),b.Cc(1," No puede colocar ese nombre "),b.Xb())}function D(e,t){if(1&e&&(b.Yb(0,"div",25),b.Bc(1,J,2,0,"div",26),b.Bc(2,M,2,0,"div",26),b.Bc(3,O,2,0,"div",26),b.Xb()),2&e){b.hc();const e=b.uc(30);b.Jb(1),b.mc("ngIf",e.errors.required),b.Jb(1),b.mc("ngIf",e.errors.minlength),b.Jb(1),b.mc("ngIf",e.errors.forbiddenName)}}function A(e,t){if(1&e){const e=b.Zb();b.Yb(0,"button",27),b.fc("click",function(){return b.vc(e),b.hc().eliminar()}),b.Ub(1,"i",28),b.Cc(2," Borrar "),b.Xb()}}const L=[{path:"",component:X},{path:":id",component:(()=>{class e{constructor(e,t,r,n){this.usuariosService=e,this.vendedoresService=t,this.route=r,this.router=n,this.usuario=new I.a,this.vendedores=[],this.routeStr="",this.showDeleteButton=!1}ngOnInit(){this.routeStr=this.route.snapshot.paramMap.get("id"),"nuevo"!==this.routeStr&&null!==this.routeStr&&(this.usuariosService.getUsuario(this.routeStr).subscribe(e=>{this.usuario=e},e=>{}),this.showDeleteButton=!0),this.vendedoresService.getAllVendedores().subscribe(e=>{this.vendedores=e})}guardar(e){e.invalid||("nuevo"!==this.routeStr?this.usuariosService.putUsuario(this.usuario).subscribe(e=>{Y.a.fire("\xc9xito","Se actualizo el usuario con \xe9xito","success").then(()=>{this.router.navigateByUrl("usuarios")})},e=>{Y.a.fire("Error",e.error.msg,"error")}):this.usuariosService.postUsuario(this.usuario).subscribe(e=>{Y.a.fire("\xc9xito","Se creo el usuario con \xe9xito","success").then(()=>{this.router.navigateByUrl("usuarios")})},e=>{Y.a.fire("Error",e.error.msg,"error")}))}eliminar(){let e=!1;Y.a.fire({title:"Confirmaci\xf3n",text:"Desea eliminar este usuario?",icon:"warning",showDenyButton:!0,confirmButtonText:"Eliminar",denyButtonText:"No eliminar",denyButtonColor:"#3085d6",confirmButtonColor:"#d33"}).then(t=>{t.isConfirmed&&(e=!0,e&&(Y.a.fire({title:"Espere",text:"Eliminando informaci\xf3n",allowOutsideClick:!1,icon:"info"}),Y.a.showLoading(),this.usuariosService.deleteUsuario(this.usuario.USUIDENTIFICACION).subscribe(e=>{Y.a.fire("Eliminado!","Se elimin\xf3 los datos del usuario","success").then(e=>{this.router.navigateByUrl("usuarios")})},e=>{Y.a.fire("Error!","Ocurri\xf3 un error al eliminar","error")})))})}cargarNombre(e){this.vendedoresService.getVendedor(e).subscribe(e=>{this.usuario.USUAPELLIDO=e.VEN_NOMBRE})}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(u.a),b.Tb(U.a),b.Tb(c.a),b.Tb(c.b))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-usuario"]],decls:38,vars:8,consts:[[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"text-right","mr-3"],["routerLink","/usuarios",1,"btn","btn-primary","mt-1"],[1,"fas","fa-long-arrow-alt-left"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],[1,"form-label"],["name","asesor","required","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["usr","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","alert bg-warning",4,"ngIf"],["name","codigo","placeholder","Nombre de usuario","type","text","minlength","5","maxlength","10","required","",1,"form-control",3,"ngModel","ngModelChange"],["codigo","ngModel"],["name","name","placeholder","Contrase\xf1a","type","password","minlength","4","maxlength","10","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-primary","w-50"],[1,"fas","fa-save"],["class","btn btn-danger w-50","type","button",3,"click",4,"ngIf"],[3,"value"],[1,"alert","bg-warning"],[4,"ngIf"],["type","button",1,"btn","btn-danger","w-50",3,"click"],[1,"fas","fa-trash-alt"]],template:function(e,t){if(1&e){const e=b.Zb();b.Yb(0,"div",0),b.Yb(1,"div",1),b.Yb(2,"h4",2),b.Cc(3,"Grupo de clientes"),b.Xb(),b.Yb(4,"p",3),b.Cc(5,"Creaci\xf3n/Mantenimiento de grupos"),b.Xb(),b.Xb(),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"button",6),b.Ub(9,"i",7),b.Cc(10," Regresar "),b.Xb(),b.Xb(),b.Yb(11,"form",8,9),b.fc("ngSubmit",function(){b.vc(e);const r=b.uc(12);return r.form.valid&&t.guardar(r)}),b.Yb(13,"div",10),b.Yb(14,"label",11),b.Cc(15,"Asesor *"),b.Xb(),b.Yb(16,"select",12,13),b.fc("ngModelChange",function(e){return t.usuario.VEN_CODIGO=e})("change",function(){b.vc(e);const r=b.uc(17);return t.cargarNombre(r.value)}),b.Bc(18,B,2,2,"option",14),b.Xb(),b.Bc(19,y,2,1,"div",15),b.Xb(),b.Yb(20,"div",10),b.Yb(21,"label"),b.Cc(22,"Usuario *"),b.Xb(),b.Yb(23,"input",16,17),b.fc("ngModelChange",function(e){return t.usuario.USUIDENTIFICACION=e}),b.Xb(),b.Bc(25,E,4,3,"div",15),b.Xb(),b.Yb(26,"div",10),b.Yb(27,"label"),b.Cc(28,"Contrase\xf1a *"),b.Xb(),b.Yb(29,"input",18,19),b.fc("ngModelChange",function(e){return t.usuario.USUCLAVE=e}),b.Xb(),b.Bc(31,D,4,3,"div",15),b.Xb(),b.Ub(32,"hr"),b.Yb(33,"div",20),b.Yb(34,"button",21),b.Ub(35,"i",22),b.Cc(36," Guardar "),b.Xb(),b.Bc(37,A,3,0,"button",23),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&e){const e=b.uc(12),r=b.uc(17),n=b.uc(24),i=b.uc(30);b.Jb(16),b.mc("ngModel",t.usuario.VEN_CODIGO),b.Jb(2),b.mc("ngForOf",t.vendedores),b.Jb(1),b.mc("ngIf",e.submitted&&r.invalid),b.Jb(4),b.mc("ngModel",t.usuario.USUIDENTIFICACION),b.Jb(2),b.mc("ngIf",e.submitted&&n.invalid),b.Jb(4),b.mc("ngModel",t.usuario.USUCLAVE),b.Jb(2),b.mc("ngIf",e.submitted&&i.invalid),b.Jb(6),b.mc("ngIf",t.showDeleteButton)}},directives:[c.c,o.n,o.f,o.g,o.l,o.k,o.e,o.h,i.j,i.k,o.a,o.d,o.c,o.i,o.o],styles:[""]}),e})()},{path:"**",redirectTo:"",pathMatch:"full"}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Rb({type:e}),e.\u0275inj=b.Qb({imports:[[c.f.forChild(L)],c.f]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Rb({type:e}),e.\u0275inj=b.Qb({imports:[[i.b,q,a.a,o.b,s.a,n.f]]}),e})()}}]);